# machine_config_template.yaml
apiVersion: rke-machine-config.cattle.io/v1
kind: Amazonec2Config
metadata:
  # The annotation must point to the new Cluster's UID
  annotations:
    field.cattle.io/creatorId: user-7skz7
    ownerBindingsCreated: "true"
  generateName: PLACEHOLDER_MC_GENERATE_NAME-
  # The name MUST match the machineConfigRef in the Cluster YAML
  name: PLACEHOLDER_MC_NAME
  namespace: fleet-default
  # ownerReferences should be generated by Rancher on apply, but we include 
  # a placeholder structure pointing to the soon-to-be-created Cluster
  #ownerReferences:
  #- apiVersion: provisioning.cattle.io/v1
  #  blockOwnerDeletion: true
  #  controller: true
  #  kind: Cluster
  #  name: PLACEHOLDER_CLUSTER_NAME
  #  uid: PLACEHOLDER_CLUSTER_UID # We will replace this with a generated UID
accessKey: ""
ami: ""
instanceType: t2.xlarge # Using t2.xlarge as per your template
keypairName: ""
region: sa-east-1
rootSize: "16"
secretKey: ""
securityGroup:
  - rancher-nodes
sshUser: ubuntu
subnetId: null
vpcId: vpc-051a6e1329e354193 # Use your specific VPC ID
volumeType: gp2
zone: a
