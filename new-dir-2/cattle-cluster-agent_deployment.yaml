apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    deployment.kubernetes.io/revision: '7'
    meta.helm.sh/release-namespace: default
    meta.helm.sh/release-name: my-scripts-cl2-new-dir-2
    kubectl.kubernetes.io/last-applied-configuration: >
      {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{"management.cattle.io/scale-available":"2"},"name":"cattle-cluster-agent","namespace":"cattle-system"},"spec":{"selector":{"matchLabels":{"app":"cattle-cluster-agent"}},"strategy":{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0},"type":"RollingUpdate"},"template":{"metadata":{"labels":{"app":"cattle-cluster-agent"}},"spec":{"affinity":{"nodeAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"preference":{"matchExpressions":[{"key":"node-role.kubernetes.io/controlplane","operator":"In","values":["true"]}]},"weight":100},{"preference":{"matchExpressions":[{"key":"node-role.kubernetes.io/control-plane","operator":"In","values":["true"]}]},"weight":100},{"preference":{"matchExpressions":[{"key":"cattle.io/cluster-agent","operator":"In","values":["true"]}]},"weight":1}],"requiredDuringSchedulingIgnoredDuringExecution":{"nodeSelectorTerms":[{"matchExpressions":[{"key":"kubernetes.io/os","operator":"NotIn","values":["windows"]}]}]}},"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"app","operator":"In","values":["cattle-cluster-agent"]}]},"topologyKey":"kubernetes.io/hostname"},"weight":100}]}},"containers":[{"env":[{"name":"CATTLE_FEATURES","value":"embedded-cluster-api=false,fleet=false,managed-system-upgrade-controller=true,multi-cluster-management=false,multi-cluster-management-agent=true,provisioningprebootstrap=false,provisioningv2=false,rke2=false,ui-sql-cache=true"},{"name":"CATTLE_SERVER","value":"https://ip-172-31-4-100.sa-east-1.compute.internal"},{"name":"CATTLE_CA_CHECKSUM","value":"2c1e4e07a24c4ebbdfa5b140980eaf23e3144c07412b6b26f4c743a4dc89811c"},{"name":"CATTLE_CLUSTER","value":"true"},{"name":"CATTLE_K8S_MANAGED","value":"true"},{"name":"CATTLE_CLUSTER_REGISTRY","value":""},{"name":"CATTLE_CREDENTIAL_NAME","value":"cattle-credentials-d63f2cb575"},{"name":"CATTLE_SUC_APP_NAME_OVERRIDE","value":"mcc-load-cluster-01-managed-system-upgrade-con-07f5f"},{"name":"CATTLE_SERVER_VERSION","value":"v2.12.3"},{"name":"CATTLE_INSTALL_UUID","value":"ec95620e-b1a6-459a-a848-3e36fb601114"},{"name":"CATTLE_INGRESS_IP_DOMAIN","value":"sslip.io"},{"name":"STRICT_VERIFY","value":"true"}],"image":"rancher/rancher-agent:v2.12.3","imagePullPolicy":"IfNotPresent","name":"cluster-register","volumeMounts":[{"mountPath":"/cattle-credentials","name":"cattle-credentials","readOnly":true}]}],"serviceAccountName":"cattle","tolerations":[{"effect":"NoSchedule","key":"node-role.kubernetes.io/controlplane","value":"true"},{"effect":"NoSchedule","key":"node-role.kubernetes.io/control-plane","operator":"Exists"}],"volumes":[{"name":"cattle-credentials","secret":{"defaultMode":320,"secretName":"cattle-credentials-d63f2cb575"}}]}}}}
    management.cattle.io/scale-available: '6'
    objectset.rio.cattle.io/applied: >-
      H4sIAAAAAAAA/7xWbW/iOBD+Kyd/JjQJ4VXaD1Gb3YvaUkSg0mpVoYk9AV+NnbMdWrTiv58coA0t3b3Vnu5TXjzzzOOZZ8b+TqDk96gNV5KMCJSludgEpEUeuWRkRK6wFGq7RmlJi6zRAgMLZPSdgJTKguVKGve5BglLdHZtCtYKbHN1YSgI9GADXEAukIxISFpE5X8htQZtW3PVsOYu3g/W1ZNE7S03j2REHjumsbIJWn9cc8k+xYwp+VMICWvHhYrKWNQeLPe7+7mTKYE6z8cqR89sjcU12bWIgBxFnYWPIFZgVi5il3YA/S5AjxZ9jAIW5n4Y4hCARgWlRaffYYMicqBHkjWG95Zrk83B5JWPKZE6NgYFUqv0vj6Wrm5eiEJZfgS+cwhWg8Xl1plqJQSXy3nJwOIe6jmr9BLJKGi5j7lsVNjftYjdlo7X9MTR/cd1KY4gDSmJf03rsDEoCi65relJxTBufJcaC9Qa2VWluVxmdIWscjzSpVQvv5NnpJWtNf/t6IOS4kuqkudSozF7eX/7Th5xS0Z1ME8rgW0nAS3RonH1pUparUQpQKJTUoka6sST1MlxA6JCh0OsrpA87B52LfKEfLmyZBT4/q7133Hw/hcSr9J+10W/FHb30CIa/674LxRsX/PsIO4Z6vWe2Q/onmZKmVOeY2XfUH3ikqknU7N9cMorFYul5b8tNMWOEI73i/izt516fhuuPX6U4bONs8+4VaUSarm9PpOPlTK2HjdvBFHv3MkKuES9J4JyUz8P4+kyns1uksXnJJ7Np0l2ZENGBNc5MobslU3JPxUgDLYKgWgP7/tzgx2ml1eVSw0MPaqI0+NplCyZ3ifTRoyVtaUZXVzw0gv6odcJvMgLfL9twEMw1gvaVK3LymKbS4tagjiDehkvLv9MLq+z+W0DOqQBRuj3IYxohHnOCujmQeQPBz5CEXawE0QR9ftREOa9POwVEe1HHYgYHQwHQUDPBbqZZ7MT/nVHvDe8HmSL23gcf0mufm58QF1Mky9pNpt+bXics54mV8l4lsY3i3F8mzSMj9rRyFBaDsJ4Pdov6JANu8NzxZhfLuLJpIZZ3N0n02l61cRbU+oJBa/19wPvw2JLz+8X3eLDmi/uk2mW3o0b+JuwHYTtzhmXdJzN4pubxXyeNvOHdNjthT56eQA9L+oOwYNBNPA62OkVec8PgiA6i/ZlmmTZIp0sru5u47TJwRjByzY/0Wo2m6aXM0c4/fz1XfkeWoSvwZ2dRIOkK9QXh+e+W0fHbR3sJpUQEyU4dV2bFmNlJxrN6x2gcY3RuOTuxcVUolrjraqkPYxG9zoB6y4hF+8rTd5dN07WNAK7k2JLRm4TbiS2iEG94RRjSh30uOlN3LQRbka9jC8sCqS2HrWHOemsfulMfdcGv4F57oxMnrmxpq7QPn2mOefO5sUg1WjdzGZYQCXsrWJIRp3QP66NP/I+6S03aHe7fwIAAP//E3izGYoLAAA
    objectset.rio.cattle.io/id: ''
    objectset.rio.cattle.io/owner-gvk: k3s.cattle.io/v1, Kind=Addon
    objectset.rio.cattle.io/owner-name: cluster-agent
    objectset.rio.cattle.io/owner-namespace: kube-system
  creationTimestamp: '2025-12-12T14:46:07Z'
  generation: 8
  labels:
    app.kubernetes.io/managed-by: Helm
    objectset.rio.cattle.io/hash: c5c3ae05aa6cf7e41d2b022e9aac4fccf373d8f4
  managedFields:
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:spec:
          f:template:
            f:metadata:
              f:annotations:
                .: {}
                f:agent.cluster.cattle.io/upgraded-v1.22: {}
      manager: rancher
      operation: Update
      time: '2025-12-12T14:48:04Z'
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:metadata:
          f:annotations:
            .: {}
            f:management.cattle.io/scale-available: {}
            f:objectset.rio.cattle.io/applied: {}
            f:objectset.rio.cattle.io/id: {}
            f:objectset.rio.cattle.io/owner-gvk: {}
            f:objectset.rio.cattle.io/owner-name: {}
            f:objectset.rio.cattle.io/owner-namespace: {}
          f:labels:
            .: {}
            f:objectset.rio.cattle.io/hash: {}
        f:spec:
          f:progressDeadlineSeconds: {}
          f:revisionHistoryLimit: {}
          f:selector: {}
          f:strategy:
            f:rollingUpdate:
              .: {}
              f:maxSurge: {}
              f:maxUnavailable: {}
            f:type: {}
          f:template:
            f:metadata:
              f:labels:
                .: {}
                f:app: {}
            f:spec:
              f:affinity:
                .: {}
                f:nodeAffinity:
                  .: {}
                  f:preferredDuringSchedulingIgnoredDuringExecution: {}
                  f:requiredDuringSchedulingIgnoredDuringExecution: {}
                f:podAntiAffinity:
                  .: {}
                  f:preferredDuringSchedulingIgnoredDuringExecution: {}
              f:containers:
                k:{"name":"cluster-register"}:
                  .: {}
                  f:env:
                    .: {}
                    k:{"name":"CATTLE_CA_CHECKSUM"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"CATTLE_CLUSTER"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"CATTLE_CLUSTER_REGISTRY"}:
                      .: {}
                      f:name: {}
                    k:{"name":"CATTLE_CREDENTIAL_NAME"}:
                      .: {}
                      f:name: {}
                    k:{"name":"CATTLE_FEATURES"}:
                      .: {}
                      f:name: {}
                    k:{"name":"CATTLE_INGRESS_IP_DOMAIN"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"CATTLE_INSTALL_UUID"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"CATTLE_K8S_MANAGED"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"CATTLE_SERVER"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"CATTLE_SERVER_VERSION"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                    k:{"name":"CATTLE_SUC_APP_NAME_OVERRIDE"}:
                      .: {}
                      f:name: {}
                    k:{"name":"STRICT_VERIFY"}:
                      .: {}
                      f:name: {}
                      f:value: {}
                  f:image: {}
                  f:imagePullPolicy: {}
                  f:name: {}
                  f:resources: {}
                  f:terminationMessagePath: {}
                  f:terminationMessagePolicy: {}
                  f:volumeMounts:
                    .: {}
                    k:{"mountPath":"/cattle-credentials"}:
                      .: {}
                      f:mountPath: {}
                      f:name: {}
                      f:readOnly: {}
              f:dnsPolicy: {}
              f:restartPolicy: {}
              f:schedulerName: {}
              f:securityContext: {}
              f:serviceAccount: {}
              f:serviceAccountName: {}
              f:terminationGracePeriodSeconds: {}
              f:tolerations: {}
              f:volumes:
                .: {}
                k:{"name":"cattle-credentials"}:
                  .: {}
                  f:name: {}
                  f:secret:
                    .: {}
                    f:defaultMode: {}
      manager: deploy@load-cluster-01-pool-load-cluster-01-cp-5wrmt-6nqrs
      operation: Update
      time: '2025-12-12T14:48:23Z'
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:metadata:
          f:annotations:
            f:kubectl.kubernetes.io/last-applied-configuration: {}
        f:spec:
          f:template:
            f:spec:
              f:containers:
                k:{"name":"cluster-register"}:
                  f:env:
                    k:{"name":"CATTLE_FEATURES"}:
                      f:value: {}
                    k:{"name":"CATTLE_SUC_APP_NAME_OVERRIDE"}:
                      f:value: {}
      manager: kubectl-client-side-apply
      operation: Update
      time: '2025-12-12T14:48:24Z'
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:spec:
          f:replicas: {}
      manager: agent
      operation: Update
      time: '2025-12-12T14:49:24Z'
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:spec:
          f:template:
            f:spec:
              f:containers:
                k:{"name":"cluster-register"}:
                  f:env:
                    k:{"name":"CATTLE_CREDENTIAL_NAME"}:
                      f:value: {}
              f:volumes:
                k:{"name":"cattle-credentials"}:
                  f:secret:
                    f:secretName: {}
      manager: deploy@load-cluster-01-pool-load-cluster-01-cp-5wrmt-lv5vq
      operation: Update
      time: '2025-12-12T14:49:30Z'
    - apiVersion: apps/v1
      fieldsType: FieldsV1
      fieldsV1:
        f:metadata:
          f:annotations:
            f:deployment.kubernetes.io/revision: {}
        f:status:
          f:availableReplicas: {}
          f:conditions:
            .: {}
            k:{"type":"Available"}:
              .: {}
              f:lastTransitionTime: {}
              f:lastUpdateTime: {}
              f:message: {}
              f:reason: {}
              f:status: {}
              f:type: {}
            k:{"type":"Progressing"}:
              .: {}
              f:lastTransitionTime: {}
              f:lastUpdateTime: {}
              f:message: {}
              f:reason: {}
              f:status: {}
              f:type: {}
          f:observedGeneration: {}
          f:readyReplicas: {}
          f:replicas: {}
          f:updatedReplicas: {}
      manager: kube-controller-manager
      operation: Update
      subresource: status
      time: '2025-12-12T14:49:35Z'
  name: cattle-cluster-agent
  namespace: cattle-system
  resourceVersion: '3472'
  uid: c1e85a1c-5d8b-4a12-bd57-83b83469a020
spec:
  progressDeadlineSeconds: 600
  replicas: 6
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: cattle-cluster-agent
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
    type: RollingUpdate
  template:
    metadata:
      annotations:
        agent.cluster.cattle.io/upgraded-v1.22: 'true'
      creationTimestamp: null
      labels:
        app: cattle-cluster-agent
    spec:
      affinity:
        nodeAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - preference:
                matchExpressions:
                  - key: node-role.kubernetes.io/controlplane
                    operator: In
                    values:
                      - 'true'
              weight: 100
            - preference:
                matchExpressions:
                  - key: node-role.kubernetes.io/control-plane
                    operator: In
                    values:
                      - 'true'
              weight: 100
            - preference:
                matchExpressions:
                  - key: cattle.io/cluster-agent
                    operator: In
                    values:
                      - 'true'
              weight: 1
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
              - matchExpressions:
                  - key: kubernetes.io/os
                    operator: NotIn
                    values:
                      - windows
        podAntiAffinity:
          preferredDuringSchedulingIgnoredDuringExecution:
            - podAffinityTerm:
                labelSelector:
                  matchExpressions:
                    - key: app
                      operator: In
                      values:
                        - cattle-cluster-agent
                topologyKey: kubernetes.io/hostname
              weight: 100
      containers:
        - env:
            - name: CATTLE_FEATURES
              value: >-
                embedded-cluster-api=false,fleet=false,managed-system-upgrade-controller=true,multi-cluster-management=false,multi-cluster-management-agent=true,provisioningprebootstrap=false,provisioningv2=false,rke2=false,ui-sql-cache=true
            - name: CATTLE_SERVER
              value: https://ip-172-31-4-100.sa-east-1.compute.internal
            - name: CATTLE_CA_CHECKSUM
              value: 2c1e4e07a24c4ebbdfa5b140980eaf23e3144c07412b6b26f4c743a4dc89811c
            - name: CATTLE_CLUSTER
              value: 'true'
            - name: CATTLE_K8S_MANAGED
              value: 'true'
            - name: CATTLE_CLUSTER_REGISTRY
            - name: CATTLE_CREDENTIAL_NAME
              value: cattle-credentials-6c7fc9d959
            - name: CATTLE_SUC_APP_NAME_OVERRIDE
              value: mcc-load-cluster-01-managed-system-upgrade-con-07f5f
            - name: CATTLE_SERVER_VERSION
              value: v2.12.3
            - name: CATTLE_INSTALL_UUID
              value: ec95620e-b1a6-459a-a848-3e36fb601114
            - name: CATTLE_INGRESS_IP_DOMAIN
              value: sslip.io
            - name: STRICT_VERIFY
              value: 'true'
          image: rancher/rancher-agent:v2.12.3
          imagePullPolicy: IfNotPresent
          name: cluster-register
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
            - mountPath: /cattle-credentials
              name: cattle-credentials
              readOnly: true
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      serviceAccount: cattle
      serviceAccountName: cattle
      terminationGracePeriodSeconds: 30
      tolerations:
        - effect: NoSchedule
          key: node-role.kubernetes.io/controlplane
          value: 'true'
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
          operator: Exists
      volumes:
        - name: cattle-credentials
          secret:
            defaultMode: 320
            secretName: cattle-credentials-6c7fc9d959
